(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.dice3d = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
'use strict';

var table;
var initialized = false;

var initialize = function initialize(element) {
  if (!element) {
    table = document.createElement('div');
    table.id = 'dice3d-table';
    document.body.appendChild(table);
  } else {
    table = element;
  }
  initialized = true;
};

var played = false;

var dice3d = function dice3d(options) {
  var faces = options.faces,
      n = options.n,
      callback = options.callback,
      element = options.element;

  if (!initialized) initialize(element);

  if (faces == 6) {
    var sound = document.getElementById('dice3d-sound');

    if (!played || sound.ended) {
      played = true;
      sound.play();
    } else {
      var audio = document.createElement('audio');
      audio.src = sound.src;
      audio.volume = sound.volume;
      setTimeout(function () {
        audio.play();
      }, Math.random() * 500);
    }

    var angle = {
      1: [90, 0],
      2: [0, 90],
      3: [180, 0],
      4: [0, 0],
      5: [0, -90],
      6: [-90, 0]
    }[n];
    var outer = document.createElement('div');
    outer.className = 'dice3d-outer';
    table.appendChild(outer);

    var dice = document.createElement('div');
    dice.className = 'dice3d';
    dice.style.transform = 'rotateX(' + angle[0] + 'deg) rotateZ(' + angle[1] + 'deg)';
    outer.appendChild(dice);

    var getFace = function getFace(pips) {
      var XMLNS = "http://www.w3.org/2000/svg";
      var svg = document.createElementNS(XMLNS, 'svg');
      svg.setAttribute('class', 'dice3d-face');
      svg.setAttribute('width', 32);
      svg.setAttribute('height', 32);

      pips.map(function (pip) {
        var circle = document.createElementNS(XMLNS, 'circle');
        Object.keys(pip).forEach(function (key) {
          return circle.setAttribute(key, pip[key]);
        });
        return circle;
      }).forEach(function (circle) {
        return svg.appendChild(circle);
      });

      return svg;
    };

    [[{ cx: 16, cy: 16, r: 6, fill: 'red' }], [{ cx: 8, cy: 8, r: 3 }, { cx: 24, cy: 24, r: 3 }], [{ cx: 8, cy: 8, r: 3 }, { cx: 16, cy: 16, r: 3 }, { cx: 24, cy: 24, r: 3 }], [{ cx: 8, cy: 8, r: 3 }, { cx: 24, cy: 24, r: 3 }, { cx: 8, cy: 24, r: 3 }, { cx: 24, cy: 8, r: 3 }], [{ cx: 8, cy: 8, r: 3 }, { cx: 16, cy: 16, r: 3 }, { cx: 24, cy: 24, r: 3 }, { cx: 8, cy: 24, r: 3 }, { cx: 24, cy: 8, r: 3 }], [{ cx: 8, cy: 8, r: 3 }, { cx: 24, cy: 24, r: 3 }, { cx: 8, cy: 16, r: 3 }, { cx: 24, cy: 16, r: 3 }, { cx: 8, cy: 24, r: 3 }, { cx: 24, cy: 8, r: 3 }]].map(getFace).forEach(function (face) {
      return dice.appendChild(face);
    });

    setTimeout(function () {
      outer.addEventListener('transitionend', function (e) {
        table.removeChild(this);
        if (callback) {
          callback();
        }
      });
      outer.style.opacity = 0;;
    }, 3 * 1000);
  } else {
    console.error('Unsupported number of faces: ' + faces);
  }
};

module.exports = dice3d;

},{}]},{},[1])(1)
});

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJqcy9kaWNlM2QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTs7QUFFQSxJQUFJLEtBQUo7QUFDQSxJQUFJLGNBQWMsS0FBbEI7O0FBRUEsSUFBSSxhQUFhLFNBQWIsVUFBYSxDQUFVLE9BQVYsRUFBbUI7QUFDbEMsTUFBSSxDQUFDLE9BQUwsRUFBYztBQUNaLFlBQVEsU0FBUyxhQUFULENBQXVCLEtBQXZCLENBQVI7QUFDQSxVQUFNLEVBQU4sR0FBVyxjQUFYO0FBQ0EsYUFBUyxJQUFULENBQWMsV0FBZCxDQUEwQixLQUExQjtBQUNELEdBSkQsTUFJTztBQUNMLFlBQVEsT0FBUjtBQUNEO0FBQ0QsZ0JBQWMsSUFBZDtBQUNELENBVEQ7O0FBV0EsSUFBSSxTQUFTLEtBQWI7O0FBRUEsSUFBSSxTQUFTLFNBQVQsTUFBUyxDQUFVLE9BQVYsRUFBbUI7QUFBQSxNQUN0QixLQURzQixHQUNVLE9BRFYsQ0FDdEIsS0FEc0I7QUFBQSxNQUNmLENBRGUsR0FDVSxPQURWLENBQ2YsQ0FEZTtBQUFBLE1BQ1osUUFEWSxHQUNVLE9BRFYsQ0FDWixRQURZO0FBQUEsTUFDRixPQURFLEdBQ1UsT0FEVixDQUNGLE9BREU7O0FBRTlCLE1BQUksQ0FBQyxXQUFMLEVBQWtCLFdBQVcsT0FBWDs7QUFFbEIsTUFBSSxTQUFTLENBQWIsRUFBZ0I7QUFDZCxRQUFJLFFBQVEsU0FBUyxjQUFULENBQXdCLGNBQXhCLENBQVo7O0FBRUEsUUFBSSxDQUFDLE1BQUQsSUFBVyxNQUFNLEtBQXJCLEVBQTRCO0FBQzFCLGVBQVMsSUFBVDtBQUNBLFlBQU0sSUFBTjtBQUNELEtBSEQsTUFHTztBQUNMLFVBQUksUUFBUSxTQUFTLGFBQVQsQ0FBdUIsT0FBdkIsQ0FBWjtBQUNBLFlBQU0sR0FBTixHQUFZLE1BQU0sR0FBbEI7QUFDQSxZQUFNLE1BQU4sR0FBZSxNQUFNLE1BQXJCO0FBQ0EsaUJBQVcsWUFBWTtBQUNyQixjQUFNLElBQU47QUFDRCxPQUZELEVBRUcsS0FBSyxNQUFMLEtBQWdCLEdBRm5CO0FBR0Q7O0FBRUQsUUFBSSxRQUFRO0FBQ1YsU0FBRyxDQUFDLEVBQUQsRUFBSyxDQUFMLENBRE87QUFFVixTQUFHLENBQUMsQ0FBRCxFQUFJLEVBQUosQ0FGTztBQUdWLFNBQUcsQ0FBQyxHQUFELEVBQU0sQ0FBTixDQUhPO0FBSVYsU0FBRyxDQUFDLENBQUQsRUFBSSxDQUFKLENBSk87QUFLVixTQUFHLENBQUMsQ0FBRCxFQUFJLENBQUMsRUFBTCxDQUxPO0FBTVYsU0FBRyxDQUFDLENBQUMsRUFBRixFQUFNLENBQU47QUFOTyxNQU9WLENBUFUsQ0FBWjtBQVFBLFFBQUksUUFBUSxTQUFTLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBWjtBQUNBLFVBQU0sU0FBTixHQUFrQixjQUFsQjtBQUNBLFVBQU0sV0FBTixDQUFrQixLQUFsQjs7QUFFQSxRQUFJLE9BQU8sU0FBUyxhQUFULENBQXVCLEtBQXZCLENBQVg7QUFDQSxTQUFLLFNBQUwsR0FBaUIsUUFBakI7QUFDQSxTQUFLLEtBQUwsQ0FBVyxTQUFYLGdCQUFrQyxNQUFNLENBQU4sQ0FBbEMscUJBQTBELE1BQU0sQ0FBTixDQUExRDtBQUNBLFVBQU0sV0FBTixDQUFrQixJQUFsQjs7QUFFQSxRQUFJLFVBQVUsU0FBVixPQUFVLENBQVUsSUFBVixFQUFnQjtBQUM1QixVQUFNLFFBQVEsNEJBQWQ7QUFDQSxVQUFJLE1BQU0sU0FBUyxlQUFULENBQXlCLEtBQXpCLEVBQWdDLEtBQWhDLENBQVY7QUFDQSxVQUFJLFlBQUosQ0FBaUIsT0FBakIsRUFBMEIsYUFBMUI7QUFDQSxVQUFJLFlBQUosQ0FBaUIsT0FBakIsRUFBMEIsRUFBMUI7QUFDQSxVQUFJLFlBQUosQ0FBaUIsUUFBakIsRUFBMkIsRUFBM0I7O0FBRUEsV0FBSyxHQUFMLENBQVMsVUFBVSxHQUFWLEVBQWU7QUFDdEIsWUFBSSxTQUFTLFNBQVMsZUFBVCxDQUF5QixLQUF6QixFQUFnQyxRQUFoQyxDQUFiO0FBQ0EsZUFBTyxJQUFQLENBQVksR0FBWixFQUFpQixPQUFqQixDQUF5QjtBQUFBLGlCQUFPLE9BQU8sWUFBUCxDQUFvQixHQUFwQixFQUF5QixJQUFJLEdBQUosQ0FBekIsQ0FBUDtBQUFBLFNBQXpCO0FBQ0EsZUFBTyxNQUFQO0FBQ0QsT0FKRCxFQUlHLE9BSkgsQ0FJVztBQUFBLGVBQVUsSUFBSSxXQUFKLENBQWdCLE1BQWhCLENBQVY7QUFBQSxPQUpYOztBQU1BLGFBQU8sR0FBUDtBQUNELEtBZEQ7O0FBZ0JBLEtBQ0UsQ0FBQyxFQUFFLElBQUksRUFBTixFQUFVLElBQUksRUFBZCxFQUFrQixHQUFHLENBQXJCLEVBQXdCLE1BQU0sS0FBOUIsRUFBRCxDQURGLEVBRUUsQ0FBQyxFQUFFLElBQUksQ0FBTixFQUFTLElBQUksQ0FBYixFQUFnQixHQUFHLENBQW5CLEVBQUQsRUFBeUIsRUFBRSxJQUFJLEVBQU4sRUFBVSxJQUFJLEVBQWQsRUFBa0IsR0FBRyxDQUFyQixFQUF6QixDQUZGLEVBR0UsQ0FBQyxFQUFFLElBQUksQ0FBTixFQUFTLElBQUksQ0FBYixFQUFnQixHQUFHLENBQW5CLEVBQUQsRUFBeUIsRUFBRSxJQUFJLEVBQU4sRUFBVSxJQUFJLEVBQWQsRUFBa0IsR0FBRyxDQUFyQixFQUF6QixFQUFtRCxFQUFFLElBQUksRUFBTixFQUFVLElBQUksRUFBZCxFQUFrQixHQUFHLENBQXJCLEVBQW5ELENBSEYsRUFJRSxDQUFDLEVBQUUsSUFBSSxDQUFOLEVBQVMsSUFBSSxDQUFiLEVBQWdCLEdBQUcsQ0FBbkIsRUFBRCxFQUF5QixFQUFFLElBQUksRUFBTixFQUFVLElBQUksRUFBZCxFQUFrQixHQUFHLENBQXJCLEVBQXpCLEVBQW1ELEVBQUUsSUFBSSxDQUFOLEVBQVMsSUFBSSxFQUFiLEVBQWlCLEdBQUcsQ0FBcEIsRUFBbkQsRUFBNEUsRUFBRSxJQUFJLEVBQU4sRUFBVSxJQUFJLENBQWQsRUFBaUIsR0FBRyxDQUFwQixFQUE1RSxDQUpGLEVBS0UsQ0FBQyxFQUFFLElBQUksQ0FBTixFQUFTLElBQUksQ0FBYixFQUFnQixHQUFHLENBQW5CLEVBQUQsRUFBeUIsRUFBRSxJQUFJLEVBQU4sRUFBVSxJQUFJLEVBQWQsRUFBa0IsR0FBRyxDQUFyQixFQUF6QixFQUFtRCxFQUFFLElBQUksRUFBTixFQUFVLElBQUksRUFBZCxFQUFrQixHQUFHLENBQXJCLEVBQW5ELEVBQTZFLEVBQUUsSUFBSSxDQUFOLEVBQVMsSUFBSSxFQUFiLEVBQWlCLEdBQUcsQ0FBcEIsRUFBN0UsRUFBc0csRUFBRSxJQUFJLEVBQU4sRUFBVSxJQUFJLENBQWQsRUFBaUIsR0FBRyxDQUFwQixFQUF0RyxDQUxGLEVBTUUsQ0FBQyxFQUFFLElBQUksQ0FBTixFQUFTLElBQUksQ0FBYixFQUFnQixHQUFHLENBQW5CLEVBQUQsRUFBeUIsRUFBRSxJQUFJLEVBQU4sRUFBVSxJQUFJLEVBQWQsRUFBa0IsR0FBRyxDQUFyQixFQUF6QixFQUFtRCxFQUFFLElBQUksQ0FBTixFQUFTLElBQUksRUFBYixFQUFpQixHQUFHLENBQXBCLEVBQW5ELEVBQTRFLEVBQUUsSUFBSSxFQUFOLEVBQVUsSUFBSSxFQUFkLEVBQWtCLEdBQUcsQ0FBckIsRUFBNUUsRUFBc0csRUFBRSxJQUFJLENBQU4sRUFBUyxJQUFJLEVBQWIsRUFBaUIsR0FBRyxDQUFwQixFQUF0RyxFQUErSCxFQUFFLElBQUksRUFBTixFQUFVLElBQUksQ0FBZCxFQUFpQixHQUFHLENBQXBCLEVBQS9ILENBTkYsRUFPRSxHQVBGLENBT00sT0FQTixFQU9lLE9BUGYsQ0FPdUI7QUFBQSxhQUFRLEtBQUssV0FBTCxDQUFpQixJQUFqQixDQUFSO0FBQUEsS0FQdkI7O0FBVUEsZUFBVyxZQUFZO0FBQ3JCLFlBQU0sZ0JBQU4sQ0FBdUIsZUFBdkIsRUFBd0MsVUFBVSxDQUFWLEVBQWE7QUFDbkQsY0FBTSxXQUFOLENBQWtCLElBQWxCO0FBQ0EsWUFBSSxRQUFKLEVBQWM7QUFDWjtBQUNEO0FBQ0YsT0FMRDtBQU1BLFlBQU0sS0FBTixDQUFZLE9BQVosR0FBc0IsQ0FBdEIsQ0FBd0I7QUFDekIsS0FSRCxFQVFHLElBQUksSUFSUDtBQVNELEdBbkVELE1BbUVPO0FBQ0wsWUFBUSxLQUFSLENBQWMsa0NBQWtDLEtBQWhEO0FBQ0Q7QUFDRixDQTFFRDs7QUE0RUEsT0FBTyxPQUFQLEdBQWlCLE1BQWpCIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdGFibGU7XG52YXIgaW5pdGlhbGl6ZWQgPSBmYWxzZTtcblxudmFyIGluaXRpYWxpemUgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICBpZiAoIWVsZW1lbnQpIHtcbiAgICB0YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRhYmxlLmlkID0gJ2RpY2UzZC10YWJsZSc7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0YWJsZSk7XG4gIH0gZWxzZSB7XG4gICAgdGFibGUgPSBlbGVtZW50O1xuICB9XG4gIGluaXRpYWxpemVkID0gdHJ1ZTtcbn07XG5cbnZhciBwbGF5ZWQgPSBmYWxzZTtcblxudmFyIGRpY2UzZCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIGNvbnN0IHsgZmFjZXMsIG4sIGNhbGxiYWNrLCBlbGVtZW50IH0gPSBvcHRpb25zXG4gIGlmICghaW5pdGlhbGl6ZWQpIGluaXRpYWxpemUoZWxlbWVudCk7XG5cbiAgaWYgKGZhY2VzID09IDYpIHtcbiAgICB2YXIgc291bmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGljZTNkLXNvdW5kJyk7XG5cbiAgICBpZiAoIXBsYXllZCB8fCBzb3VuZC5lbmRlZCkge1xuICAgICAgcGxheWVkID0gdHJ1ZTtcbiAgICAgIHNvdW5kLnBsYXkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGF1ZGlvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKTtcbiAgICAgIGF1ZGlvLnNyYyA9IHNvdW5kLnNyYztcbiAgICAgIGF1ZGlvLnZvbHVtZSA9IHNvdW5kLnZvbHVtZTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBhdWRpby5wbGF5KCk7XG4gICAgICB9LCBNYXRoLnJhbmRvbSgpICogNTAwKTtcbiAgICB9XG5cbiAgICB2YXIgYW5nbGUgPSB7XG4gICAgICAxOiBbOTAsIDBdLFxuICAgICAgMjogWzAsIDkwXSxcbiAgICAgIDM6IFsxODAsIDBdLFxuICAgICAgNDogWzAsIDBdLFxuICAgICAgNTogWzAsIC05MF0sXG4gICAgICA2OiBbLTkwLCAwXSxcbiAgICB9W25dO1xuICAgIHZhciBvdXRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG91dGVyLmNsYXNzTmFtZSA9ICdkaWNlM2Qtb3V0ZXInO1xuICAgIHRhYmxlLmFwcGVuZENoaWxkKG91dGVyKTtcblxuICAgIHZhciBkaWNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGljZS5jbGFzc05hbWUgPSAnZGljZTNkJztcbiAgICBkaWNlLnN0eWxlLnRyYW5zZm9ybSA9IGByb3RhdGVYKCR7YW5nbGVbMF19ZGVnKSByb3RhdGVaKCR7YW5nbGVbMV19ZGVnKWA7XG4gICAgb3V0ZXIuYXBwZW5kQ2hpbGQoZGljZSk7XG5cbiAgICB2YXIgZ2V0RmFjZSA9IGZ1bmN0aW9uIChwaXBzKSB7XG4gICAgICBjb25zdCBYTUxOUyA9IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIjtcbiAgICAgIHZhciBzdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoWE1MTlMsICdzdmcnKTtcbiAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2RpY2UzZC1mYWNlJyk7XG4gICAgICBzdmcuc2V0QXR0cmlidXRlKCd3aWR0aCcsIDMyKTtcbiAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIDMyKTtcblxuICAgICAgcGlwcy5tYXAoZnVuY3Rpb24gKHBpcCkge1xuICAgICAgICB2YXIgY2lyY2xlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFhNTE5TLCAnY2lyY2xlJyk7XG4gICAgICAgIE9iamVjdC5rZXlzKHBpcCkuZm9yRWFjaChrZXkgPT4gY2lyY2xlLnNldEF0dHJpYnV0ZShrZXksIHBpcFtrZXldKSk7XG4gICAgICAgIHJldHVybiBjaXJjbGU7XG4gICAgICB9KS5mb3JFYWNoKGNpcmNsZSA9PiBzdmcuYXBwZW5kQ2hpbGQoY2lyY2xlKSk7XG5cbiAgICAgIHJldHVybiBzdmc7XG4gICAgfTtcblxuICAgIFtcbiAgICAgIFt7IGN4OiAxNiwgY3k6IDE2LCByOiA2LCBmaWxsOiAncmVkJyB9XSxcbiAgICAgIFt7IGN4OiA4LCBjeTogOCwgcjogMyB9LCB7IGN4OiAyNCwgY3k6IDI0LCByOiAzIH1dLFxuICAgICAgW3sgY3g6IDgsIGN5OiA4LCByOiAzIH0sIHsgY3g6IDE2LCBjeTogMTYsIHI6IDMgfSwgeyBjeDogMjQsIGN5OiAyNCwgcjogMyB9XSxcbiAgICAgIFt7IGN4OiA4LCBjeTogOCwgcjogMyB9LCB7IGN4OiAyNCwgY3k6IDI0LCByOiAzIH0sIHsgY3g6IDgsIGN5OiAyNCwgcjogMyB9LCB7IGN4OiAyNCwgY3k6IDgsIHI6IDMgfV0sXG4gICAgICBbeyBjeDogOCwgY3k6IDgsIHI6IDMgfSwgeyBjeDogMTYsIGN5OiAxNiwgcjogMyB9LCB7IGN4OiAyNCwgY3k6IDI0LCByOiAzIH0sIHsgY3g6IDgsIGN5OiAyNCwgcjogMyB9LCB7IGN4OiAyNCwgY3k6IDgsIHI6IDMgfV0sXG4gICAgICBbeyBjeDogOCwgY3k6IDgsIHI6IDMgfSwgeyBjeDogMjQsIGN5OiAyNCwgcjogMyB9LCB7IGN4OiA4LCBjeTogMTYsIHI6IDMgfSwgeyBjeDogMjQsIGN5OiAxNiwgcjogMyB9LCB7IGN4OiA4LCBjeTogMjQsIHI6IDMgfSwgeyBjeDogMjQsIGN5OiA4LCByOiAzIH1dLFxuICAgIF0ubWFwKGdldEZhY2UpLmZvckVhY2goZmFjZSA9PiBkaWNlLmFwcGVuZENoaWxkKGZhY2UpKTtcblxuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBvdXRlci5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdGFibGUucmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgb3V0ZXIuc3R5bGUub3BhY2l0eSA9IDA7O1xuICAgIH0sIDMgKiAxMDAwKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmVycm9yKCdVbnN1cHBvcnRlZCBudW1iZXIgb2YgZmFjZXM6ICcgKyBmYWNlcyk7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZGljZTNkO1xuIl19
