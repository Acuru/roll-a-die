(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.rollADie = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
'use strict';

function verifyParams(options) {
  var numberDice = options.numberDice,
      callback = options.callback,
      element = options.element;

  if (!element) throw new Error('Element to render dice animation not specified.');
  if (!numberDice) throw new Error('Number of dice to use not specified.');
  if (!callback) throw new Error('Provide a callback function to recieve dice values.');
}

function playSound(outerContainer) {
  var played = void 0;
  var audio = document.createElement('audio');
  outerContainer.appendChild(audio);
  audio.src = '../dist/nc93322.mp3';
  played = true;
  audio.play();
}

function getFace(pips) {
  var XMLNS = "http://www.w3.org/2000/svg";
  var svg = document.createElementNS(XMLNS, 'svg');
  svg.setAttribute('class', 'dice-face');
  svg.setAttribute('width', 32);
  svg.setAttribute('height', 32);

  pips.map(function (pip) {
    var circle = document.createElementNS(XMLNS, 'circle');
    Object.keys(pip).forEach(function (key) {
      return circle.setAttribute(key, pip[key]);
    });
    return circle;
  }).forEach(function (circle) {
    return svg.appendChild(circle);
  });

  return svg;
};

function appendDieContainers(dieId, element, angle) {
  var outer = document.createElement('div');
  outer.className = 'dice-outer';
  outer.id = dieId;
  element.appendChild(outer);

  var dice = document.createElement('div');
  dice.className = 'dice';
  dice.style.transform = 'rotateX(' + angle[0] + 'deg) rotateZ(' + angle[1] + 'deg)';
  outer.appendChild(dice);
  return dice;
}

function removeDieFromDOM(dieId) {
  var removeElement = document.getElementById(dieId);
  removeElement.remove();
}

var rollADie = function rollADie(options) {
  var numberDice = options.numberDice,
      callback = options.callback,
      element = options.element,
      noSound = options.noSound;

  verifyParams(options);
  var faces = 6;
  var result = [];
  if (!noSound) {
    playSound(element);
  }

  var _loop = function _loop(i) {
    var dieFace = Math.floor(Math.random() * 6) + 1;
    result.push(dieFace);
    var angle = {
      1: [90, 0],
      2: [0, 90],
      3: [180, 0],
      4: [0, 0],
      5: [0, -90],
      6: [-90, 0]
    }[dieFace];
    var dieId = i + '-' + dieFace;
    var dice = appendDieContainers(dieId, element, angle);
    [[{ cx: 16, cy: 16, r: 6, fill: 'red' }], [{ cx: 8, cy: 8, r: 3 }, { cx: 24, cy: 24, r: 3 }], [{ cx: 8, cy: 8, r: 3 }, { cx: 16, cy: 16, r: 3 }, { cx: 24, cy: 24, r: 3 }], [{ cx: 8, cy: 8, r: 3 }, { cx: 24, cy: 24, r: 3 }, { cx: 8, cy: 24, r: 3 }, { cx: 24, cy: 8, r: 3 }], [{ cx: 8, cy: 8, r: 3 }, { cx: 16, cy: 16, r: 3 }, { cx: 24, cy: 24, r: 3 }, { cx: 8, cy: 24, r: 3 }, { cx: 24, cy: 8, r: 3 }], [{ cx: 8, cy: 8, r: 3 }, { cx: 24, cy: 24, r: 3 }, { cx: 8, cy: 16, r: 3 }, { cx: 24, cy: 16, r: 3 }, { cx: 8, cy: 24, r: 3 }, { cx: 24, cy: 8, r: 3 }]].map(getFace).forEach(function (face) {
      return dice.appendChild(face);
    });
    //Todo: Remove existing dice elements before appending new ones. In cases where user calls rollDice in quick succesion
    setTimeout(function () {
      return removeDieFromDOM(dieId);
    }, 3000);
  };

  for (var i = 0; i < numberDice; i++) {
    _loop(i);
  }
  if (callback) {
    callback(result);
  }
};

module.exports = rollADie;

},{}]},{},[1])(1)
});

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJqcy9yb2xsLWEtZGllLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7O0FBRUEsU0FBUyxZQUFULENBQXNCLE9BQXRCLEVBQStCO0FBQUEsTUFDckIsVUFEcUIsR0FDYSxPQURiLENBQ3JCLFVBRHFCO0FBQUEsTUFDVCxRQURTLEdBQ2EsT0FEYixDQUNULFFBRFM7QUFBQSxNQUNDLE9BREQsR0FDYSxPQURiLENBQ0MsT0FERDs7QUFFN0IsTUFBSSxDQUFDLE9BQUwsRUFBYyxNQUFNLElBQUksS0FBSixDQUFVLGlEQUFWLENBQU47QUFDZCxNQUFJLENBQUMsVUFBTCxFQUFpQixNQUFNLElBQUksS0FBSixDQUFVLHNDQUFWLENBQU47QUFDakIsTUFBSSxDQUFDLFFBQUwsRUFBZSxNQUFNLElBQUksS0FBSixDQUFVLHFEQUFWLENBQU47QUFDaEI7O0FBRUQsU0FBUyxTQUFULENBQW1CLGNBQW5CLEVBQW1DO0FBQ2pDLE1BQUksZUFBSjtBQUNBLE1BQU0sUUFBUSxTQUFTLGFBQVQsQ0FBdUIsT0FBdkIsQ0FBZDtBQUNBLGlCQUFlLFdBQWYsQ0FBMkIsS0FBM0I7QUFDQSxRQUFNLEdBQU4sR0FBWSxxQkFBWjtBQUNBLFdBQVMsSUFBVDtBQUNBLFFBQU0sSUFBTjtBQUNEOztBQUVELFNBQVMsT0FBVCxDQUFpQixJQUFqQixFQUF1QjtBQUNyQixNQUFNLFFBQVEsNEJBQWQ7QUFDQSxNQUFNLE1BQU0sU0FBUyxlQUFULENBQXlCLEtBQXpCLEVBQWdDLEtBQWhDLENBQVo7QUFDQSxNQUFJLFlBQUosQ0FBaUIsT0FBakIsRUFBMEIsV0FBMUI7QUFDQSxNQUFJLFlBQUosQ0FBaUIsT0FBakIsRUFBMEIsRUFBMUI7QUFDQSxNQUFJLFlBQUosQ0FBaUIsUUFBakIsRUFBMkIsRUFBM0I7O0FBRUEsT0FBSyxHQUFMLENBQVMsVUFBVSxHQUFWLEVBQWU7QUFDdEIsUUFBTSxTQUFTLFNB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QixHQUFHLENBQXBCLEVBQXRHLEVBQStILEVBQUUsSUFBSSxFQUFOLEVBQVUsSUFBSSxDQUFkLEVBQWlCLEdBQUcsQ0FBcEIsRUFBL0gsQ0FORixFQU9FLEdBUEYsQ0FPTSxPQVBOLEVBT2UsT0FQZixDQU91QjtBQUFBLGFBQVEsS0FBSyxXQUFMLENBQWlCLElBQWpCLENBQVI7QUFBQSxLQVB2QjtBQVFBO0FBQ0EsZUFBVztBQUFBLGFBQU0saUJBQWlCLEtBQWpCLENBQU47QUFBQSxLQUFYLEVBQTBDLElBQTFDO0FBL0JnQzs7QUFTbEMsT0FBSyxJQUFJLElBQUksQ0FBYixFQUFnQixJQUFJLFVBQXBCLEVBQWdDLEdBQWhDLEVBQXFDO0FBQUEsVUFBNUIsQ0FBNEI7QUF1QnBDO0FBQ0QsTUFBSSxRQUFKLEVBQWM7QUFDWixhQUFTLE1BQVQ7QUFDRDtBQUNGLENBcENEOztBQXNDQSxPQUFPLE9BQVAsR0FBaUIsUUFBakIiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIHZlcmlmeVBhcmFtcyhvcHRpb25zKSB7XG4gIGNvbnN0IHsgbnVtYmVyRGljZSwgY2FsbGJhY2ssIGVsZW1lbnQgfSA9IG9wdGlvbnM7XG4gIGlmICghZWxlbWVudCkgdGhyb3cgbmV3IEVycm9yKCdFbGVtZW50IHRvIHJlbmRlciBkaWNlIGFuaW1hdGlvbiBub3Qgc3BlY2lmaWVkLicpO1xuICBpZiAoIW51bWJlckRpY2UpIHRocm93IG5ldyBFcnJvcignTnVtYmVyIG9mIGRpY2UgdG8gdXNlIG5vdCBzcGVjaWZpZWQuJyk7XG4gIGlmICghY2FsbGJhY2spIHRocm93IG5ldyBFcnJvcignUHJvdmlkZSBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIHJlY2lldmUgZGljZSB2YWx1ZXMuJyk7XG59XG5cbmZ1bmN0aW9uIHBsYXlTb3VuZChvdXRlckNvbnRhaW5lcikge1xuICBsZXQgcGxheWVkO1xuICBjb25zdCBhdWRpbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2F1ZGlvJyk7XG4gIG91dGVyQ29udGFpbmVyLmFwcGVuZENoaWxkKGF1ZGlvKTtcbiAgYXVkaW8uc3JjID0gJy4uL2Rpc3QvbmM5MzMyMi5tcDMnO1xuICBwbGF5ZWQgPSB0cnVlO1xuICBhdWRpby5wbGF5KCk7XG59XG5cbmZ1bmN0aW9uIGdldEZhY2UocGlwcykge1xuICBjb25zdCBYTUxOUyA9IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIjtcbiAgY29uc3Qgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFhNTE5TLCAnc3ZnJyk7XG4gIHN2Zy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2RpY2UtZmFjZScpO1xuICBzdmcuc2V0QXR0cmlidXRlKCd3aWR0aCcsIDMyKTtcbiAgc3ZnLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgMzIpO1xuXG4gIHBpcHMubWFwKGZ1bmN0aW9uIChwaXApIHtcbiAgICBjb25zdCBjaXJjbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoWE1MTlMsICdjaXJjbGUnKTtcbiAgICBPYmplY3Qua2V5cyhwaXApLmZvckVhY2goa2V5ID0+IGNpcmNsZS5zZXRBdHRyaWJ1dGUoa2V5LCBwaXBba2V5XSkpO1xuICAgIHJldHVybiBjaXJjbGU7XG4gIH0pLmZvckVhY2goY2lyY2xlID0+IHN2Zy5hcHBlbmRDaGlsZChjaXJjbGUpKTtcblxuICByZXR1cm4gc3ZnO1xufTtcblxuZnVuY3Rpb24gYXBwZW5kRGllQ29udGFpbmVycyhkaWVJZCwgZWxlbWVudCwgYW5nbGUpIHtcbiAgY29uc3Qgb3V0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgb3V0ZXIuY2xhc3NOYW1lID0gJ2RpY2Utb3V0ZXInO1xuICBvdXRlci5pZCA9IGRpZUlkO1xuICBlbGVtZW50LmFwcGVuZENoaWxkKG91dGVyKTtcblxuICBjb25zdCBkaWNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGRpY2UuY2xhc3NOYW1lID0gJ2RpY2UnO1xuICBkaWNlLnN0eWxlLnRyYW5zZm9ybSA9IGByb3RhdGVYKCR7YW5nbGVbMF19ZGVnKSByb3RhdGVaKCR7YW5nbGVbMV19ZGVnKWA7XG4gIG91dGVyLmFwcGVuZENoaWxkKGRpY2UpO1xuICByZXR1cm4gZGljZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlRGllRnJvbURPTShkaWVJZCkge1xuICBjb25zdCByZW1vdmVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGllSWQpO1xuICByZW1vdmVFbGVtZW50LnJlbW92ZSgpO1xufVxuXG5jb25zdCByb2xsQURpZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIGNvbnN0IHsgbnVtYmVyRGljZSwgY2FsbGJhY2ssIGVsZW1lbnQsIG5vU291bmQgfSA9IG9wdGlvbnM7XG4gIHZlcmlmeVBhcmFtcyhvcHRpb25zKTtcbiAgY29uc3QgZmFjZXMgPSA2O1xuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgaWYgKCFub1NvdW5kKSB7XG4gICAgcGxheVNvdW5kKGVsZW1lbnQpO1xuICB9XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1iZXJEaWNlOyBpKyspIHtcbiAgICBjb25zdCBkaWVGYWNlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNikgKyAxO1xuICAgIHJlc3VsdC5wdXNoKGRpZUZhY2UpO1xuICAgIGNvbnN0IGFuZ2xlID0ge1xuICAgICAgMTogWzkwLCAwXSxcbiAgICAgIDI6IFswLCA5MF0sXG4gICAgICAzOiBbMTgwLCAwXSxcbiAgICAgIDQ6IFswLCAwXSxcbiAgICAgIDU6IFswLCAtOTBdLFxuICAgICAgNjogWy05MCwgMF0sXG4gICAgfVtkaWVGYWNlXTtcbiAgICBjb25zdCBkaWVJZCA9IGAke2l9LSR7ZGllRmFjZX1gO1xuICAgIGNvbnN0IGRpY2UgPSBhcHBlbmREaWVDb250YWluZXJzKGRpZUlkLCBlbGVtZW50LCBhbmdsZSk7XG4gICAgW1xuICAgICAgW3sgY3g6IDE2LCBjeTogMTYsIHI6IDYsIGZpbGw6ICdyZWQnIH1dLFxuICAgICAgW3sgY3g6IDgsIGN5OiA4LCByOiAzIH0sIHsgY3g6IDI0LCBjeTogMjQsIHI6IDMgfV0sXG4gICAgICBbeyBjeDogOCwgY3k6IDgsIHI6IDMgfSwgeyBjeDogMTYsIGN5OiAxNiwgcjogMyB9LCB7IGN4OiAyNCwgY3k6IDI0LCByOiAzIH1dLFxuICAgICAgW3sgY3g6IDgsIGN5OiA4LCByOiAzIH0sIHsgY3g6IDI0LCBjeTogMjQsIHI6IDMgfSwgeyBjeDogOCwgY3k6IDI0LCByOiAzIH0sIHsgY3g6IDI0LCBjeTogOCwgcjogMyB9XSxcbiAgICAgIFt7IGN4OiA4LCBjeTogOCwgcjogMyB9LCB7IGN4OiAxNiwgY3k6IDE2LCByOiAzIH0sIHsgY3g6IDI0LCBjeTogMjQsIHI6IDMgfSwgeyBjeDogOCwgY3k6IDI0LCByOiAzIH0sIHsgY3g6IDI0LCBjeTogOCwgcjogMyB9XSxcbiAgICAgIFt7IGN4OiA4LCBjeTogOCwgcjogMyB9LCB7IGN4OiAyNCwgY3k6IDI0LCByOiAzIH0sIHsgY3g6IDgsIGN5OiAxNiwgcjogMyB9LCB7IGN4OiAyNCwgY3k6IDE2LCByOiAzIH0sIHsgY3g6IDgsIGN5OiAyNCwgcjogMyB9LCB7IGN4OiAyNCwgY3k6IDgsIHI6IDMgfV1cbiAgICBdLm1hcChnZXRGYWNlKS5mb3JFYWNoKGZhY2UgPT4gZGljZS5hcHBlbmRDaGlsZChmYWNlKSk7XG4gICAgLy9Ub2RvOiBSZW1vdmUgZXhpc3RpbmcgZGljZSBlbGVtZW50cyBiZWZvcmUgYXBwZW5kaW5nIG5ldyBvbmVzLiBJbiBjYXNlcyB3aGVyZSB1c2VyIGNhbGxzIHJvbGxEaWNlIGluIHF1aWNrIHN1Y2Nlc2lvblxuICAgIHNldFRpbWVvdXQoKCkgPT4gcmVtb3ZlRGllRnJvbURPTShkaWVJZCksIDMwMDApO1xuICB9XG4gIGlmIChjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrKHJlc3VsdCk7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gcm9sbEFEaWU7XG4iXX0=
